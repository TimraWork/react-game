(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(16),c=n.n(a),s=n(31),i=n(75),o="rgb(0, 0, 0)",l=Object(i.a)({palette:{primary:{main:o},secondary:{main:o}},typography:{fontFamily:"Jura",body2:{fontFamily:"Jura",fontSize:"1rem"}},shape:{borderRadius:20},overrides:{MuiChip:{root:{margin:"0 10px 20px 0"}},MuiTextField:{root:{borderColor:o,marginBottom:"20px",width:"370px","& .MuiInput-underline:before":{borderBottomColor:o},"&:hover":{borderBottomColor:o}}},MuiButton:{root:{fontWeight:"bold",fontSize:"16px","&:focus":{outline:"none"}}},MuiInputLabel:{root:{color:o}}}}),u=n(19),j=(n(88),n(24)),d={data:[],isLoading:!1,error:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"timra/posts/REQUEST":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"timra/posts/SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{data:t.payload.data,isLoading:!1});case"timra/posts/SET_FAILURE":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,error:t.payload.error});default:return e}},O=n(27),p=n.n(O),m=n(38),x=n(66),h=n.n(x),f=function(e){return{id:e.id,title:e.title.rendered}},g=function(){var e=Object(m.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://timra.ru/timra/wp-json/wp/v2/posts?_embed&per_page=20&page=1");case 3:return t=e.sent,n=t.data,e.abrupt("return",n.map(f));case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR IN API = ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();g();var v,y=n(41),k=n(2),S=function(){return Object(k.jsx)("div",{className:"loader",children:"Loading..."})},N=n(146),w=Object(y.b)((function(e){return e}),{getPostsThunk:function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"timra/posts/REQUEST"}),e.next=3,g();case 3:n=e.sent,t({type:"timra/posts/SUCCESS",payload:{data:n}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.posts,n=e.getPostsThunk,a=Object(r.useState)(t.data),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(r.useState)(t.isLoading),l=Object(u.a)(o,2),j=l[0],d=l[1];return Object(r.useEffect)((function(){t.data.length||n()}),[n,t.data.length]),Object(r.useEffect)((function(){i(t.data)}),[t.data]),Object(r.useEffect)((function(){d(t.isLoading)}),[t.isLoading,n]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h1",{children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),j||!t.data.length?Object(k.jsx)(S,{}):null,s.map((function(e,t){var n=e.id,r=e.title;return Object(k.jsx)(N.a,{in:!0,timeout:200*t,children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("strong",{children:[t,".__ "]})," ",r]})},n)}))]})})),F=n(138),_=function(){return Object(k.jsx)("svg",{className:"circle",children:Object(k.jsx)("circle",{r:"20",cx:"24",cy:"24",stroke:"#009688",strokeWidth:"5",fill:"none",strokeLinecap:"round"})})},R=function(){return Object(k.jsxs)("svg",{className:"cross",children:[Object(k.jsx)("line",{className:"first",x1:"5",y1:"5",x2:"40",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"}),Object(k.jsx)("line",{className:"second",x1:"40",y1:"5",x2:"5",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"})]})},C=function(e){var t=e.value,n=e.isWinner,r=e.setActive;return Object(k.jsxs)("button",{className:"square ".concat(n?"square--winner":""),onClick:r,children:["O"===t&&Object(k.jsx)(_,{}),"X"===t&&Object(k.jsx)(R,{})]})},E=function(){var e,t=Object(r.useState)(Array(9).fill(null)),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!0),i=Object(u.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)(null),d=Object(u.a)(j,2),b=d[0],O=d[1],p=Object(r.useState)(!1),m=Object(u.a)(p,2),x=m[0],h=m[1],f=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var r=Object(u.a)(t[n],3),a=r[0],c=r[1],s=r[2];if(e[a]&&e[a]===e[c]&&e[a]===e[s])return{winner:e[a],idxs:[a,c,s]}}return null};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"status ".concat(b||x?"status--win":""," ").concat(o?"status--nextX":""),children:["\xa0",function(e,t){return e?"Winner: "+e:x?"TIE !!!":"Next: "+(t?"X":"0")}((null===(e=f(a))||void 0===e?void 0:e.winner)||null,o)]}),Object(k.jsx)("div",{className:b||x?"board  board--disabled":"board",children:a.map((function(e,t){var n;return Object(k.jsx)(C,{value:e,isWinner:(null===(n=f(a))||void 0===n?void 0:n.idxs.includes(t))||null,setActive:function(){return function(e){var t,n=a.slice();if(!f(n)&&!a[e]){n[e]=o?"X":"O",c(n),l(!o);var r=(null===(t=f(n))||void 0===t?void 0:t.winner)||null;O(r);var s=new Audio(o?"https://timra.ru/portfolio/audio/cross.mp3":"https://timra.ru/portfolio/audio/zero.mp3");s.volume=.1,s.play(),h(9===n.filter((function(e){return e})).length)}}(t)}},t)}))}),(b||x)&&Object(k.jsx)(F.a,{className:"play-again",variant:"contained",onClick:function(){c(Array(9).fill(null)),O(null),h(!1)},children:"Play again"})]})},L=function(e){var t=e.innerRef;return Object(k.jsx)("div",{className:"game",ref:t,children:Object(k.jsxs)("div",{className:"game--board",children:[Object(k.jsx)("h1",{className:"game--title",children:"Tic-Tac-Toe"}),Object(k.jsx)(E,{})]})})},B=n(34),T=n(140),q=n(147),W=n(11),I=n(142),A=n(143),M=n(141),z=n.p+"static/media/rs_school_js.ad178c0d.svg",P=function(){return Object(k.jsxs)("a",{href:"/",className:"logo",children:[Object(k.jsx)("img",{src:z,alt:"",className:"logo__img"}),Object(k.jsx)("span",{className:"logo__text",children:Object(k.jsx)("span",{className:"logo__title",children:"React game"})})]})},U=[{name:"Play",path:"/"}],J=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("nav",{className:"nav",children:U.map((function(e,t){return Object(k.jsx)(F.a,{component:s.b,to:e.path,exact:!0,children:e.name},t)}))})})},X=n(139),Q=n(70),D=n.n(Q),G=function(e){var t=e.onBtnFullScreenClick;return Object(k.jsx)(X.a,{onClick:t,children:Object(k.jsx)(D.a,{})})},H=Object(T.a)((function(e){return Object(q.a)({root:{},menuButton:{marginLeft:e.spacing(2)},logo:{flexGrow:1},appBar:{boxShadow:"none",borderBottom:"1px solid "+Object(W.b)(e.palette.primary.light,.35)},sectionDesktop:Object(B.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"}),sectionMobile:Object(B.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})})})),K=function(e){var t=e.onBtnFullScreenClick,n=H();return Object(k.jsx)("header",{children:Object(k.jsx)(M.a,{maxWidth:"xl",children:Object(k.jsxs)(I.a,{children:[Object(k.jsx)(A.a,{className:n.logo,children:Object(k.jsx)(P,{})}),Object(k.jsx)(J,{}),Object(k.jsx)(G,{onBtnFullScreenClick:t})]})})})},V=n(71),Y=n.n(V),Z=function(){return Object(k.jsxs)("footer",{children:[Object(k.jsx)(X.a,{color:"primary",href:"https://github.com/TimraWork",target:"_blank",children:Object(k.jsx)(Y.a,{})}),Object(k.jsx)("div",{className:"copyright",children:"\xa9 2021"}),Object(k.jsx)("a",{href:"https://rs.school/react/",className:"footer-logo",target:"_blank",children:Object(k.jsx)("img",{src:z,alt:"",className:"footer-logo__img"})})]})},$=n(7),ee=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(K,{onBtnFullScreenClick:function(){var e=n;e&&e.requestFullscreen&&e.requestFullscreen(),e&&e.webkitRequestFullScreen&&e.webkitRequestFullScreen(),e&&e.msRequestFullscreen&&e.msRequestFullscreen(),e&&e.mozRequestFullScreen&&e.mozRequestFullScreen()}}),Object(k.jsxs)($.c,{children:[Object(k.jsx)($.a,{exact:!0,path:"/",children:Object(k.jsx)(L,{innerRef:function(e){a(e)}})}),Object(k.jsx)($.a,{exact:!0,path:"/stat",component:w})]}),Object(k.jsx)(Z,{})]})},te=n(17),ne=Object(te.c)({posts:b}),re=n(72),ae=n(49),ce=n(73),se={key:"root",storage:n.n(ce).a},ie=Object(ae.a)(se,ne),oe=te.d,le=(v={},Object(te.e)(ie,v,oe(Object(te.a)(re.a)))),ue=Object(ae.b)(le),je=n(74),de=n(144),be=n(145);c.a.render(Object(k.jsx)(y.a,{store:le,children:Object(k.jsx)(je.a,{loading:null,persistor:ue,children:Object(k.jsx)(s.a,{children:Object(k.jsxs)(de.a,{theme:l,children:[Object(k.jsx)(be.a,{}),Object(k.jsx)(ee,{})]})})})}),document.getElementById("root"))},88:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.d6ac0d68.chunk.js.map