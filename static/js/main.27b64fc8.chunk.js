(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{53:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(15),r=c.n(s),a=c(42),i="rgb(0, 0, 0)",l=Object(a.a)({palette:{primary:{main:i},secondary:{main:i}},typography:{fontFamily:"Jura"},shape:{borderRadius:20},overrides:{MuiButton:{root:{fontWeight:"bold",fontSize:"17px","&:focus":{outline:"none"}}}}}),u=(c(53),c(77)),o=c(78),j=c(10),b=c(75),d=c(2),O=function(){return Object(d.jsx)("svg",{className:"circle",children:Object(d.jsx)("circle",{r:"20",cx:"24",cy:"24",stroke:"#009688",strokeWidth:"5",fill:"none",strokeLinecap:"round"})})},f=function(){return Object(d.jsxs)("svg",{className:"cross",children:[Object(d.jsx)("line",{className:"first",x1:"5",y1:"5",x2:"40",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"}),Object(d.jsx)("line",{className:"second",x1:"40",y1:"5",x2:"5",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"})]})},m=function(e){var t=e.value,c=e.isWinner,n=e.setActive;return Object(d.jsxs)("button",{className:"square ".concat(c?"square--winner":""),onClick:n,children:["O"===t&&Object(d.jsx)(O,{}),"X"===t&&Object(d.jsx)(f,{})]})},x=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],c=0;c<t.length;c++){var n=Object(j.a)(t[c],3),s=n[0],r=n[1],a=n[2];if(e[s]&&e[s]===e[r]&&e[s]===e[a])return{winner:e[s],idxs:[s,r,a]}}return null},h=function(e,t,c){return e?"Winner: "+e:c?"TIE !!!":"Next: "+(t?"X":"0")},g=function(e,t){if(!t){var c="https://timra.ru/portfolio/audio/".concat(e,".mp3"),n=new Audio(c);n.volume=.1,n.play()}},v=function(e){var t,c=e.isMute,s=Object(n.useState)(Array(9).fill(null)),r=Object(j.a)(s,2),a=r[0],i=r[1],l=Object(n.useState)(!0),u=Object(j.a)(l,2),o=u[0],O=u[1],f=Object(n.useState)(null),v=Object(j.a)(f,2),p=v[0],k=v[1],N=Object(n.useState)(!1),S=Object(j.a)(N,2),y=S[0],q=S[1];Object(n.useEffect)((function(){localStorage.getItem("squares")&&i(JSON.parse(localStorage.getItem("squares")||""))}),[]),Object(n.useEffect)((function(){var e,t=(null===(e=x(a))||void 0===e?void 0:e.winner)||null;k(t),t&&q(!1),q(9===a.filter((function(e){return e})).length)}),[a,o]);return Object(n.useEffect)((function(){setTimeout((function(){p&&!y&&g("win",c)}),2e3)}),[y,p]),Object(n.useEffect)((function(){setTimeout((function(){y&&g("tie",c)}),1500)}),[y]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"status ".concat(p||y?"status--win":""," ").concat(o?"status--nextX":""),children:["\xa0 ",h((null===(t=x(a))||void 0===t?void 0:t.winner)||null,o,y)]}),Object(d.jsx)("div",{className:p||y?"board  board--disabled":"board",children:a.map((function(e,t){var n;return Object(d.jsx)(m,{value:e,isWinner:(null===(n=x(a))||void 0===n?void 0:n.idxs.includes(t))||null,setActive:function(){return function(e){var t=a.slice();x(t)||a[e]||(t[e]=o?"X":"O",i(t),localStorage.setItem("squares",JSON.stringify(t)),O(!o),g(o?"cross":"zero",c))}(t)}},t)}))}),(p||y)&&Object(d.jsx)(b.a,{className:"btn-new-game",variant:"contained",onClick:function(){i(Array(9).fill(null)),localStorage.setItem("squares",JSON.stringify(Array(9).fill(null))),k(null),q(!1)},children:"new game"})]})},p=function(e){var t=e.innerRef,c=e.isMute;return Object(d.jsx)("div",{className:"game",ref:t,children:Object(d.jsxs)("div",{className:"game--board",children:[Object(d.jsx)("h1",{className:"game--title",children:"Tic-Tac-Toe"}),Object(d.jsx)(v,{isMute:c})]})})},k=c(76),N=c.p+"static/media/rs_school_js.ad178c0d.svg",S=function(){return Object(d.jsxs)("a",{href:"/",className:"logo",children:[Object(d.jsx)("img",{src:N,alt:"",className:"logo__img"}),Object(d.jsx)("span",{className:"logo__text",children:Object(d.jsx)("span",{className:"logo__title",children:"React game"})})]})},y=c(38),q=c.n(y),F=c(39),w=c.n(F),_=c(40),M=c.n(_),R=c(37),C=c.n(R),W=c(36),T=c.n(W),A=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useRef)(null);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k.a,{onClick:function(){s(!c),r.current&&(c?(r.current.defaultMuted=!1,r.current.muted=!1):(r.current.defaultMuted=!0,r.current.muted=!0))},children:c?Object(d.jsx)(C.a,{}):Object(d.jsx)(T.a,{})}),!c&&Object(d.jsx)("audio",{autoPlay:!0,loop:!0,ref:r,src:"https://timra.ru/portfolio/audio/music.mp3"})]})},B=function(e){var t=e.onBtnFullScreenClick,c=e.onBtnVolumeMuteClick,n=e.isMute;return Object(d.jsxs)("header",{children:[Object(d.jsx)(S,{}),Object(d.jsx)(k.a,{onClick:t,children:Object(d.jsx)(q.a,{})}),Object(d.jsx)(A,{}),Object(d.jsx)(k.a,{onClick:c,children:n?Object(d.jsx)(M.a,{}):Object(d.jsx)(w.a,{})})]})},E=c(41),I=c.n(E),J=function(){return Object(d.jsxs)("footer",{children:[Object(d.jsx)(k.a,{color:"primary",href:"https://github.com/TimraWork",target:"_blank",children:Object(d.jsx)(I.a,{})}),Object(d.jsx)("div",{className:"copyright",children:"\xa9 2021"}),Object(d.jsx)("a",{href:"https://rs.school/react/",className:"footer-logo",target:"_blank",children:Object(d.jsx)("img",{src:N,alt:"",className:"footer-logo__img"})})]})},z=function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(!1),a=Object(j.a)(r,2),i=a[0],l=a[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(B,{onBtnFullScreenClick:function(){var e=c;e&&e.requestFullscreen&&e.requestFullscreen(),e&&e.webkitRequestFullScreen&&e.webkitRequestFullScreen(),e&&e.msRequestFullscreen&&e.msRequestFullscreen(),e&&e.mozRequestFullScreen&&e.mozRequestFullScreen()},onBtnVolumeMuteClick:function(){i&&g("mute",i),l(!i)},isMute:i}),Object(d.jsx)(p,{innerRef:function(e){s(e)},isMute:i}),Object(d.jsx)(J,{})]})};r.a.render(Object(d.jsxs)(u.a,{theme:l,children:[Object(d.jsx)(o.a,{}),Object(d.jsx)(z,{})]}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.27b64fc8.chunk.js.map