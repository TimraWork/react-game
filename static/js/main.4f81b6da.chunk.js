(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{122:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),i=n(42),o=n(9),l=n(149),u=n(150),j=n(146),d=n(79),b="rgb(0, 0, 0)",O=Object(d.a)({palette:{primary:{main:b},secondary:{main:b}},typography:{fontFamily:"Jura",body2:{fontFamily:"Jura",fontSize:"1rem"}},shape:{borderRadius:20},overrides:{MuiChip:{root:{margin:"0 10px 20px 0"}},MuiTextField:{root:{borderColor:b,marginBottom:"20px",width:"370px","& .MuiInput-underline:before":{borderBottomColor:b},"&:hover":{borderBottomColor:b}}},MuiButton:{root:{"&:focus":{outline:"none"}}},MuiInputLabel:{root:{color:b}}}}),p=(n(91),n(36)),m=n(145),x=n(152),h=n(11),f=n(153),g=n(147),v=n(148),y=n(144),k=n(69),N=n.n(k),S=n(71),w=n.n(S),_=n.p+"static/media/rs_school_js.ad178c0d.svg",E=n(2),L=function(){return Object(E.jsxs)("a",{href:"/",className:"logo",children:[Object(E.jsx)("img",{src:_,alt:"",className:"logo__img"}),Object(E.jsx)("span",{className:"logo__text",children:Object(E.jsx)("span",{className:"logo__title",children:"React game"})})]})},F=n(70),R=n.n(F),B=n(143),C=[{name:"Statistics",path:"/stat/"},{name:"Play",path:"/"}],T=function(){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("nav",{className:"nav",children:C.map((function(e,t){return Object(E.jsx)(B.a,{component:i.b,to:e.path,exact:!0,children:e.name},t)}))})})},q=n(68),W=n.n(q);function I(){return Object(E.jsx)(y.a,{onClick:function(){var e=document.querySelector(".game");e&&e.requestFullscreen&&e.requestFullscreen(),e&&e.webkitRequestFullScreen&&e.webkitRequestFullScreen(),e&&e.msRequestFullscreen&&e.msRequestFullscreen()},children:Object(E.jsx)(W.a,{})})}var A=Object(m.a)((function(e){return Object(x.a)({root:{},menuButton:{marginLeft:e.spacing(2)},logo:{flexGrow:1},appBar:{boxShadow:"none",borderBottom:"1px solid "+Object(h.b)(e.palette.primary.light,.35)},sectionDesktop:Object(p.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex",alignItems:"center"}),sectionMobile:Object(p.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"})})}));function M(){var e=A();return Object(E.jsx)(f.a,{position:"sticky",color:"inherit",className:e.appBar,children:Object(E.jsx)(j.a,{maxWidth:"xl",children:Object(E.jsxs)(g.a,{children:[Object(E.jsx)(v.a,{className:e.logo,children:Object(E.jsx)(L,{})}),Object(E.jsxs)("div",{className:e.sectionDesktop,children:[Object(E.jsx)(T,{}),Object(E.jsx)(y.a,{className:e.menuButton,children:Object(E.jsx)(N.a,{})}),Object(E.jsx)(y.a,{className:e.menuButton,children:Object(E.jsx)(R.a,{})}),Object(E.jsx)(I,{})]}),Object(E.jsx)("div",{className:e.sectionMobile,children:Object(E.jsx)(y.a,{className:e.menuButton,color:"primary",children:Object(E.jsx)(w.a,{})})})]})})})}var P=n(72),U=n.n(P),J=function(){return Object(E.jsxs)("footer",{children:[Object(E.jsx)(y.a,{color:"primary",href:"https://github.com/TimraWork",target:"_blank",children:Object(E.jsx)(U.a,{})}),Object(E.jsx)("div",{className:"copyright",children:"\xa9 2021"}),Object(E.jsx)("a",{href:"https://rs.school/react/",className:"footer-logo",target:"_blank",children:Object(E.jsx)("img",{src:_,alt:"",className:"footer-logo__img"})})]})},X=function(e){var t=e.children;return Object(E.jsxs)(l.a,{theme:O,children:[Object(E.jsx)(u.a,{}),Object(E.jsx)(M,{}),Object(E.jsx)(j.a,{maxWidth:"xl",style:{padding:40},children:t}),Object(E.jsx)(J,{})]})},z=n(22),D=n(24),Q={data:[],isLoading:!1,error:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"timra/posts/REQUEST":return Object(D.a)(Object(D.a)({},e),{},{isLoading:!0});case"timra/posts/SUCCESS":return Object(D.a)(Object(D.a)({},e),{},{data:t.payload.data,isLoading:!1});case"timra/posts/SET_FAILURE":return Object(D.a)(Object(D.a)({},e),{},{isLoading:!1,error:t.payload.error});default:return e}},H=n(28),K=n.n(H),V=n(43),Y=n(73),Z=n.n(Y),$=function(e){return{id:e.id,title:e.title.rendered}},ee=function(){var e=Object(V.a)(K.a.mark((function e(){var t,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.a.get("https://timra.ru/timra/wp-json/wp/v2/posts?_embed&per_page=20&page=1");case 3:return t=e.sent,n=t.data,e.abrupt("return",n.map($));case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR IN API = ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();ee();var te,ne=n(44),ae=function(){return Object(E.jsx)("div",{className:"loader",children:"Loading..."})},re=n(151),ce=Object(ne.b)((function(e){return e}),{getPostsThunk:function(){return function(){var e=Object(V.a)(K.a.mark((function e(t){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"timra/posts/REQUEST"}),e.next=3,ee();case 3:n=e.sent,t({type:"timra/posts/SUCCESS",payload:{data:n}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.posts,n=e.getPostsThunk,r=Object(a.useState)(t.data),c=Object(z.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(t.isLoading),l=Object(z.a)(o,2),u=l[0],j=l[1];return Object(a.useEffect)((function(){t.data.length||n()}),[n,t.data.length]),Object(a.useEffect)((function(){i(t.data)}),[t.data]),Object(a.useEffect)((function(){j(t.isLoading)}),[t.isLoading,n]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),u||!t.data.length?Object(E.jsx)(ae,{}):null,s.map((function(e,t){var n=e.id,a=e.title;return Object(E.jsx)(re.a,{in:!0,timeout:200*t,children:Object(E.jsxs)("div",{children:[Object(E.jsxs)("strong",{children:[t,".__ "]})," ",a]})},n)}))]})})),se=n(17),ie=Object(se.c)({posts:G}),oe=n(76),le=n(52),ue=n(77),je={key:"root",storage:n.n(ue).a},de=Object(le.a)(je,ie),be=se.d,Oe=(te={},Object(se.e)(de,te,be(Object(se.a)(oe.a)))),pe=Object(le.b)(Oe),me=n(78),xe=function(){return Object(E.jsx)("svg",{className:"circle",children:Object(E.jsx)("circle",{r:"20",cx:"24",cy:"24",stroke:"#009688",strokeWidth:"5",fill:"none",strokeLinecap:"round"})})},he=function(){return Object(E.jsxs)("svg",{className:"cross",children:[Object(E.jsx)("line",{className:"first",x1:"5",y1:"5",x2:"40",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"}),Object(E.jsx)("line",{className:"second",x1:"40",y1:"5",x2:"5",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"})]})},fe=function(e){var t=e.value,n=e.isWinner,a=e.setActive;return Object(E.jsxs)("button",{className:"square ".concat(n?"square--winner":""),onClick:a,children:["O"===t&&Object(E.jsx)(xe,{}),"X"===t&&Object(E.jsx)(he,{})]})},ge=function(){var e,t=Object(a.useState)(Array(9).fill(null)),n=Object(z.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!0),i=Object(z.a)(s,2),o=i[0],l=i[1],u=Object(a.useState)(null),j=Object(z.a)(u,2),d=j[0],b=j[1],O=Object(a.useState)(!1),p=Object(z.a)(O,2),m=p[0],x=p[1],h=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(z.a)(t[n],3),r=a[0],c=a[1],s=a[2];if(e[r]&&e[r]===e[c]&&e[r]===e[s])return{winner:e[r],idxs:[r,c,s]}}return null};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"status ".concat(d||m?"status--win":""," ").concat(o?"status--nextX":""),children:["\xa0",function(e,t){return e?"Winner: "+e:m?"TIE !!":"Next: "+(t?"X":"0")}((null===(e=h(r))||void 0===e?void 0:e.winner)||null,o)]}),Object(E.jsx)("div",{className:d||m?"board  board--disabled":"board",children:r.map((function(e,t){var n;return Object(E.jsx)(fe,{value:e,isWinner:(null===(n=h(r))||void 0===n?void 0:n.idxs.includes(t))||null,setActive:function(){return function(e){var t,n=r.slice();if(!h(n)&&!r[e]){n[e]=o?"X":"O",c(n),l(!o);var a=(null===(t=h(n))||void 0===t?void 0:t.winner)||null;b(a);var s=new Audio(o?"https://timra.ru/portfolio/audio/cross.mp3":"https://timra.ru/portfolio/audio/zero.mp3");s.volume=.1,s.play(),x(9===n.filter((function(e){return e})).length)}}(t)}},t)}))}),(d||m)&&Object(E.jsx)(B.a,{className:"play-again",variant:"contained",onClick:function(){c(Array(9).fill(null)),b(null),x(!1)},children:"Play again"})]})};s.a.render(Object(E.jsx)(ne.a,{store:Oe,children:Object(E.jsx)(me.a,{loading:null,persistor:pe,children:Object(E.jsx)(i.a,{children:Object(E.jsx)(X,{children:Object(E.jsxs)(o.c,{children:[Object(E.jsx)(o.a,{exact:!0,path:"/",component:function(){var e=r.a.useRef(null);return Object(E.jsx)("div",{className:"game",ref:e,children:Object(E.jsxs)("div",{className:"game--board",children:[Object(E.jsx)("h1",{className:"game--title",children:"Tic-Tac-Toe"}),Object(E.jsx)(ge,{})]})})}}),Object(E.jsx)(o.a,{exact:!0,path:"/stat",component:ce})]})})})})}),document.getElementById("root"))},91:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.4f81b6da.chunk.js.map