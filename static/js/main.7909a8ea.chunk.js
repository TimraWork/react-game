(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{107:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r(16),a=r.n(c),s=r(64),i=r(62),o="rgb(0, 0, 0)",l=Object(i.a)({palette:{primary:{main:o},secondary:{main:o}},typography:{fontFamily:"Jura"},shape:{borderRadius:20},overrides:{MuiButton:{root:{fontWeight:"bold",fontSize:"17px","&:focus":{outline:"none"}}}}}),u=(r(76),r(17)),j=r(124),d=r(2),b=function(){return Object(d.jsx)("svg",{className:"circle",children:Object(d.jsx)("circle",{r:"20",cx:"24",cy:"24",stroke:"#009688",strokeWidth:"5",fill:"none",strokeLinecap:"round"})})},O=function(){return Object(d.jsxs)("svg",{className:"cross",children:[Object(d.jsx)("line",{className:"first",x1:"5",y1:"5",x2:"40",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"}),Object(d.jsx)("line",{className:"second",x1:"40",y1:"5",x2:"5",y2:"40",stroke:"#606060",strokeWidth:"5",strokeLinecap:"round"})]})},m=function(e){var t=e.value,r=e.isWinner,n=e.setActive;return Object(d.jsxs)("button",{className:"square ".concat(r?"square--winner":""),onClick:n,children:["O"===t&&Object(d.jsx)(b,{}),"X"===t&&Object(d.jsx)(O,{})]})},h=function(){var e,t=Object(n.useState)(Array(9).fill(null)),r=Object(u.a)(t,2),c=r[0],a=r[1],s=Object(n.useState)(!0),i=Object(u.a)(s,2),o=i[0],l=i[1],b=Object(n.useState)(null),O=Object(u.a)(b,2),h=O[0],x=O[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),g=f[0],v=f[1],k=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],r=0;r<t.length;r++){var n=Object(u.a)(t[r],3),c=n[0],a=n[1],s=n[2];if(e[c]&&e[c]===e[a]&&e[c]===e[s])return{winner:e[c],idxs:[c,a,s]}}return null};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"status ".concat(h||g?"status--win":""," ").concat(o?"status--nextX":""),children:["\xa0",function(e,t){return e?"Winner: "+e:g?"TIE !!!":"Next: "+(t?"X":"0")}((null===(e=k(c))||void 0===e?void 0:e.winner)||null,o)]}),Object(d.jsx)("div",{className:h||g?"board  board--disabled":"board",children:c.map((function(e,t){var r;return Object(d.jsx)(m,{value:e,isWinner:(null===(r=k(c))||void 0===r?void 0:r.idxs.includes(t))||null,setActive:function(){return function(e){var t,r=c.slice();if(!k(r)&&!c[e]){r[e]=o?"X":"O",a(r),l(!o);var n=(null===(t=k(r))||void 0===t?void 0:t.winner)||null;x(n);var s=new Audio(o?"https://timra.ru/portfolio/audio/cross.mp3":"https://timra.ru/portfolio/audio/zero.mp3");s.volume=.1,s.play(),v(9===r.filter((function(e){return e})).length)}}(t)}},t)}))}),(h||g)&&Object(d.jsx)(j.a,{className:"btn-new-game",variant:"contained",onClick:function(){a(Array(9).fill(null)),x(null),v(!1)},children:"new game"})]})},x=function(e){var t=e.innerRef;return Object(d.jsx)("div",{className:"game",ref:t,children:Object(d.jsxs)("div",{className:"game--board",children:[Object(d.jsx)("h1",{className:"game--title",children:"Tic-Tac-Toe"}),Object(d.jsx)(h,{})]})})},p=r(125),f=r.p+"static/media/rs_school_js.ad178c0d.svg",g=function(){return Object(d.jsxs)("a",{href:"/",className:"logo",children:[Object(d.jsx)("img",{src:f,alt:"",className:"logo__img"}),Object(d.jsx)("span",{className:"logo__text",children:Object(d.jsx)("span",{className:"logo__title",children:"React game"})})]})},v=r(54),k=r.n(v),y=function(e){var t=e.onBtnFullScreenClick;return Object(d.jsxs)("header",{children:[Object(d.jsx)(g,{}),Object(d.jsx)(p.a,{onClick:t,children:Object(d.jsx)(k.a,{})})]})},N=r(55),w=r.n(N),S=function(){return Object(d.jsxs)("footer",{children:[Object(d.jsx)(p.a,{color:"primary",href:"https://github.com/TimraWork",target:"_blank",children:Object(d.jsx)(w.a,{})}),Object(d.jsx)("div",{className:"copyright",children:"\xa9 2021"}),Object(d.jsx)("a",{href:"https://rs.school/react/",className:"footer-logo",target:"_blank",children:Object(d.jsx)("img",{src:f,alt:"",className:"footer-logo__img"})})]})},R=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),r=t[0],c=t[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(y,{onBtnFullScreenClick:function(){var e=r;e&&e.requestFullscreen&&e.requestFullscreen(),e&&e.webkitRequestFullScreen&&e.webkitRequestFullScreen(),e&&e.msRequestFullscreen&&e.msRequestFullscreen(),e&&e.mozRequestFullScreen&&e.mozRequestFullScreen()}}),Object(d.jsx)(x,{innerRef:function(e){c(e)}}),Object(d.jsx)(S,{})]})},_=r(13),F=r(19),q={data:[],isLoading:!1,error:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"timra/posts/REQUEST":return Object(F.a)(Object(F.a)({},e),{},{isLoading:!0});case"timra/posts/SUCCESS":return Object(F.a)(Object(F.a)({},e),{},{data:t.payload.data,isLoading:!1});case"timra/posts/SET_FAILURE":return Object(F.a)(Object(F.a)({},e),{},{isLoading:!1,error:t.payload.error});default:return e}},L=r(22),W=r.n(L),A=r(31),C=r(56),T=r.n(C),I=function(e){return{id:e.id,title:e.title.rendered}},z=function(){var e=Object(A.a)(W.a.mark((function e(){var t,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("https://timra.ru/timra/wp-json/wp/v2/posts?_embed&per_page=20&page=1");case 3:return t=e.sent,r=t.data,e.abrupt("return",r.map(I));case 8:e.prev=8,e.t0=e.catch(0),console.error("ERROR IN API = ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();z();var B,X=Object(_.c)({posts:E}),J=r(58),U=r(36),M=r(59),P={key:"root",storage:r.n(M).a},Q=Object(U.a)(P,X),D=_.d,G=(B={},Object(_.e)(Q,B,D(Object(_.a)(J.a)))),H=Object(U.b)(G),K=r(60),V=r(63),Y=r(126),Z=r(127);a.a.render(Object(d.jsx)(V.a,{store:G,children:Object(d.jsx)(K.a,{loading:null,persistor:H,children:Object(d.jsx)(s.a,{children:Object(d.jsxs)(Y.a,{theme:l,children:[Object(d.jsx)(Z.a,{}),Object(d.jsx)(R,{})]})})})}),document.getElementById("root"))},76:function(e,t,r){}},[[107,1,2]]]);
//# sourceMappingURL=main.7909a8ea.chunk.js.map